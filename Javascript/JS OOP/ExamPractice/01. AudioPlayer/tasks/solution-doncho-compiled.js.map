{"version":3,"sources":["solution-doncho.js"],"names":[],"mappings":"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","file":"solution-doncho-compiled.js","sourcesContent":["function solve() {\n    if (!Array.prototype.find) {\n        Array.prototype.find = function(predicate) {\n            if (this == null) {\n                throw new TypeError('Array.prototype.find called on null or undefined');\n            }\n            if (typeof predicate !== 'function') {\n                throw new TypeError('predicate must be a function');\n            }\n            var list = Object(this);\n            var length = list.length >>> 0;\n            var thisArg = arguments[1];\n            var value;\n\n            for (var i = 0; i < length; i++) {\n                value = list[i];\n                if (predicate.call(thisArg, value, i, list)) {\n                    return value;\n                }\n            }\n            return undefined;\n        };\n    }\n\n    if (!Array.prototype.findIndex) {\n        Array.prototype.findIndex = function(predicate) {\n            if (this == null) {\n                throw new TypeError('Array.prototype.findIndex called on null or undefined');\n            }\n            if (typeof predicate !== 'function') {\n                throw new TypeError('predicate must be a function');\n            }\n            var list = Object(this);\n            var length = list.length >>> 0;\n            var thisArg = arguments[1];\n            var value;\n\n            for (var i = 0; i < length; i++) {\n                value = list[i];\n                if (predicate.call(thisArg, value, i, list)) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function isStringValid(str, minLength, maxLength) {\n        return typeof(str) === 'string' &&\n            str.length >= minLength &&\n            str.length <= maxLength;\n    }\n\n    var player = function() {\n        function byNameThenById(pl1, pl2) {\n            if (pl1.name === pl2.name) {\n                return pl1.id - pl2.id;\n            }\n            return pl1.name.localeCompare(pl2.name);\n        }\n\n        var player = {\n            init: function(name) {\n                this.name = name;\n                this.playlists = [];\n                return this;\n            },\n            get name() {\n                return this._name;\n            },\n            set name(newName) {\n                if (!isStringValid(newName, 3, 25)) {\n                    throw {\n                        name: 'InvalidPlayerNameError',\n                        message: 'InvalidPlayerNameError',\n                    };\n                }\n                this._name = newName;\n            },\n            addPlaylist: function(playlist) {\n                if (typeof(playlist.id) === 'undefined' ||\n                    !playlist.name) {\n                    throw {\n                        name: 'InvalidPlayerError',\n                        message: 'InvalidPlayerError'\n                    };\n                }\n                this.playlists.push(playlist);\n                return this;\n            },\n            getPlaylistById: function(id) {\n                var i,\n                    len;\n                // for(playable of this.playables){\n\n                // }\n                for (i = 0, len = this.playlists.length; i < len; i += 1) {\n                    if (this.playlists[i].id === id) {\n                        return this.playlists[i];\n                    }\n                }\n                return null;\n            },\n            removePlaylist: function(value) {\n                var id = value;\n                if (typeof(value) === 'undefined') {\n                    throw {\n                        name: 'InvalidIdError',\n                        message: 'InvalidIdError'\n                    };\n                }\n\n                if (typeof(value) !== 'number') {\n                    id = value.id;\n                }\n\n                var index = this.playlists.findIndex(function(playlist) {\n                    return playlist.id === id;\n                });\n\n                if (index < 0) {\n                    throw {\n                        name: 'InvalidIdError',\n                        message: 'InvalidIdError'\n                    };\n                }\n                this.playlists.splice(index, 1);\n                return this;\n            },\n            listPlaylists: function(page, size) {\n                /*\n                    page*size > COUNT_OF_PLAYABLE_IN_PLAYLIST\n                    page < 0\n                    size <= 0\n                */\n                if (typeof(page) === 'undefined' ||\n                    typeof(size) === 'undefined' ||\n                    page < 0 ||\n                    size <= 0 ||\n                    page * size > this.playlists.length) {\n                    throw {\n                        name: 'InvalidPageSizeError',\n                        message: 'InvalidPageSizeError',\n                    };\n                }\n                this.playlists.sort(byNameThenById);\n                return this.playlists.slice(page * size, (page + 1) * size);\n            },\n            search: function(pattern) {\n                //playlist1 -> Te sa zeleni\n                //playlist2 -> Te sa cherveni\n                //pattern = 'zeleni' -> [playlist1]\n                //pattern = 'te sa' -> [playlist1, playlist2]\n                pattern = pattern.toLowerCase();\n                return this.playlists.filter(function(playlist) {\n                    return playlist.getAllPlayables()\n                        .some(function(playable) {\n                            return playable.title\n                                .toLowerCase()\n                                .indexOf(pattern) >= 0;\n                        });\n                });\n            }\n        };\n        return player;\n    }();\n\n    var playlist = function() {\n        var lastId = 0;\n        var playlist = {\n            init: function(name) {\n                this.id = lastId += 1;\n                this.name = name;\n                this.playables = [];\n                return this;\n            },\n            get name() {\n                return this._name;\n            },\n            set name(newName) {\n                if (!isStringValid(newName, 3, 25)) {\n                    throw {\n                        name: 'InvalidPlaylistNameError',\n                        message: 'InvalidPlaylistNameError',\n                    };\n                }\n                this._name = newName;\n            },\n            getAllPlayables: function() {\n                return this.playables.slice();\n            },\n            addPlayable: function(playable) {\n                if (typeof(playable.id) === 'undefined' ||\n                    !playable.title) {\n                    throw {\n                        name: 'InvalidPlayableError',\n                        message: 'InvalidPlayableError'\n                    };\n                }\n                this.playables.push(playable);\n                return this;\n            },\n            getPlayableById: function(id) {\n                var i,\n                    len;\n                // for(playable of this.playables){\n\n                // }\n                for (i = 0, len = this.playables.length; i < len; i += 1) {\n                    if (this.playables[i].id === id) {\n                        return this.playables[i];\n                    }\n                }\n                return null;\n            },\n            removePlayable: function(value) {\n                var id = value;\n                if (typeof(value) === 'undefined') {\n                    throw {\n                        name: 'InvalidIdError',\n                        message: 'InvalidIdError'\n                    };\n                }\n\n                if (typeof(value) !== 'number') {\n                    id = value.id;\n                }\n\n                var index = this.playables.findIndex(function(playable) {\n                    return playable.id === id;\n                });\n\n                if (index < 0) {\n                    throw {\n                        name: 'InvalidIdError',\n                        message: 'InvalidIdError'\n                    };\n                }\n                this.playables.splice(index, 1);\n                return this;\n            },\n            listPlayables: function(page, size) {\n                /*\n                    page*size > COUNT_OF_PLAYABLE_IN_PLAYLIST\n                    page < 0\n                    size <= 0\n                */\n                if (typeof(page) === 'undefined' ||\n                    typeof(size) === 'undefined' ||\n                    page < 0 ||\n                    size <= 0 ||\n                    page * size > this.playables.length) {\n                    throw {\n                        name: 'InvalidPageSizeError',\n                        message: 'InvalidPageSizeError',\n                    };\n                }\n                this.playables.sort(function(pl1, pl2) {\n                    if (pl1.title === pl2.title) {\n                        return pl1.id - pl2.id;\n                    }\n                    return pl1.title.localeCompare(pl2.title);\n                });\n                return this.playables.slice(page * size, (page + 1) * size);\n            }\n        };\n        return playlist;\n    }();\n\n    var playable = function() {\n        var lastId = 0,\n            playable = {\n                init: function(title, author) {\n                    this.id = lastId += 1;\n                    this.title = title;\n                    this.author = author;\n                    return this;\n                },\n                get title() {\n                    return this._title;\n                },\n                set title(newTitle) {\n                    if (!isStringValid(newTitle, 3, 25)) {\n                        throw {\n                            name: '',\n                            message: ''\n                        };\n                    }\n                    this._title = newTitle;\n                },\n                get author() {\n                    return this._author;\n                },\n                set author(newAuthor) {\n                    if (!isStringValid(newAuthor, 3, 25)) {\n                        throw {\n                            name: 'InvalidAuthorError',\n                            message: ''\n                        };\n                    }\n                    this._author = newAuthor;\n                },\n                play: function() {\n                    return this.id + '. ' + this.title + ' - ' + this.author;\n                }\n            };\n        return playable;\n    }();\n\n    var audio = function(parent) {\n        var audio = Object.create(parent);\n\n        audio.init = function(title, author, length) {\n            parent.init.call(this, title, author);\n            this.length = length;\n            return this;\n        };\n\n        audio.play = function() {\n            return parent.play.call(this) + ' - ' + this.length;\n        };\n\n        Object.defineProperty(audio, 'length', {\n            get: function() {\n                return this._length;\n            },\n            set: function(newLength) {\n                if (typeof(newLength) !== 'number' ||\n                    newLength <= 0) {\n                    throw {\n                        name: '',\n                        message: ''\n                    };\n                }\n                this._length = newLength;\n            }\n        });\n\n        return audio;\n    }(playable);\n\n    var video = function(parent) {\n        var video = Object.create(parent);\n\n        video.init = function(title, author, imdbRating) {\n            parent.init.call(this, title, author);\n            this.imdbRating = imdbRating;\n            return this;\n        };\n\n        video.play = function() {\n            return parent.play.call(this) + ' - ' + this.imdbRating;\n        };\n\n        Object.defineProperty(video, 'imdbRating', {\n            get: function() {\n                return this._imdbRating;\n            },\n            set: function(newImdbRating) {\n                if (typeof(newImdbRating) !== 'number' ||\n                    newImdbRating < 1 ||\n                    newImdbRating > 5) {\n                    throw {\n                        name: '',\n                        message: ''\n                    };\n                }\n                this._imdbRating = newImdbRating;\n            }\n        });\n\n        return video;\n    }(playable);\n\n    var module = {\n        getPlayer: function(name) {\n            return Object.create(player)\n                .init(name);\n        },\n        getPlaylist: function(name) {\n            return Object.create(playlist)\n                .init(name);\n        },\n        getAudio: function(title, author, length) {\n            return Object.create(audio)\n                .init(title, author, length);\n        },\n        getVideo: function(title, author, imdbRating) {\n            return Object.create(video)\n                .init(title, author, imdbRating);\n        }\n    };\n\n    return module;\n}\n\nvar module = solve();\n\nvar player = module.getPlayer('John\\'s Player');\nvar playlist = module.getPlaylist('The BG');\n\nplaylist.addPlayable(module.getAudio('Te sa zeleni', 'Keranov', 3.37))\n    .addPlayable(module.getAudio('Te sa cherni', 'Chernio', 45));\nplayer.addPlaylist(playlist);\n\nvar playlist2 = module.getPlaylist('GOsho\\' Playlist');\nplaylist2.addPlayable(module.getAudio('Te sa zeleni', 'Keranov', 3.37));\nplayer.addPlaylist(playlist2);\n// console.log(player.listPlaylists(0, 100));\n\nconsole.log(player.search('cherni'));\nconsole.log('***********');\nconsole.log(player.search('te sa'));\n"]}