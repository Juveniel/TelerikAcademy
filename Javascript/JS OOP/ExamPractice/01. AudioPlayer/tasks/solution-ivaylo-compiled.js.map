{"version":3,"sources":["solution-ivaylo.js"],"names":[],"mappings":"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","file":"solution-ivaylo-compiled.js","sourcesContent":["﻿function solve() {\n    var module = (function () {\n        var player,\n            playlist,\n            playable,\n            audio,\n            video,\n            validator,\n            CONSTANTS = {\n                TEXT_MIN_LENGTH: 3,\n                TEXT_MAX_LENGTH: 25,\n                IMDB_MIN_RATING: 1,\n                IMDB_MAX_RATING: 5,\n                MAX_NUMBER: 9007199254740992\n            };\n\n        function indexOfElementWithIdInCollection(collection, id) {\n            var i, len;\n            for (i = 0, len = collection.length; i < len; i++) {\n                if (collection[i].id == id) {\n                    return i;\n                }\n            }\n\n            return -1;\n        }\n\n        function getSortingFunction(firstParameter, secondParameter) {\n            return function (first, second) {\n                if (first[firstParameter] < second[firstParameter]) {\n                    return -1;\n                }\n                else if (first[firstParameter] > second[firstParameter]) {\n                    return 1;\n                }\n\n                if (first[secondParameter] < second[secondParameter]) {\n                    return -1;\n                }\n                else if (first[secondParameter] > second[secondParameter]) {\n                    return 1;\n                }\n                else {\n                    return 0;\n                }\n            }\n        }\n\n        validator = {\n            validateIfUndefined: function (val, name) {\n                name = name || 'Value';\n                if (val === undefined) {\n                    throw new Error(name + ' cannot be undefined');\n                }\n            },\n            validateIfObject: function(val, name) {\n                name = name || 'Value';\n                if (typeof val !== 'object') {\n                    throw new Error(name + ' must be an object');\n                }\n            },\n            validateIfNumber: function (val, name) {\n                name = name || 'Value';\n                if (typeof val !== 'number') {\n                    throw new Error(name + ' must be a number');\n                }\n            },\n            validateString: function (val, name) {\n                name = name || 'Value';\n                this.validateIfUndefined(val, name);\n\n                if (typeof val !== 'string') {\n                    throw new Error(name + ' must be a string');\n                }\n\n                if (val.length < CONSTANTS.TEXT_MIN_LENGTH\n                    || CONSTANTS.TEXT_MAX_LENGTH < val.length) {\n                    throw new Error(name + ' must be between ' + CONSTANTS.TEXT_MIN_LENGTH +\n                        ' and ' + CONSTANTS.TEXT_MAX_LENGTH + ' symbols');\n                }\n            },\n            validatePositiveNumber: function (val, name) {\n                name = name || 'Value';\n                this.validateIfUndefined(val, name);\n                this.validateIfNumber(val, name);\n\n                if (val <= 0) {\n                    throw new Error(name + ' must be positive number');\n                }\n            },\n            validateImdbRating: function (val) {\n                this.validateIfUndefined(val, 'IMDB Rating');\n                this.validateIfNumber(val, 'IMDB Rating');\n\n                if (val < CONSTANTS.IMDB_MIN_RATING || CONSTANTS.IMDB_MAX_RATING < val) {\n                    throw new Error('IMDB Rating must be between '\n                        + CONSTANTS.IMDB_MIN_RATING\n                        + ' and ' + CONSTANTS.IMDB_MAX_RATING);\n                }\n            },\n            validateId: function (id) {\n                this.validateIfUndefined(id, 'Object id');\n                if (typeof id !== 'number') {\n                    id = id.id;\n                }\n\n                this.validateIfUndefined(id, 'Object must have id');\n                return id;\n            },\n            validatePageAndSize: function (page, size, maxElements) {\n                this.validateIfUndefined(page);\n                this.validateIfUndefined(size);\n                this.validateIfNumber(page);\n                this.validateIfNumber(size);\n\n                if (page < 0) {\n                    throw new Error('Page must be greather than or equal to 0');\n                }\n\n                this.validatePositiveNumber(size, 'Size');\n\n                if (page * size > maxElements) {\n                    throw new Error('Page * size will not return any elements from collection');\n                }\n            }\n        };\n\n        player = (function () {\n            var currentPlayerId = 0,\n                player = Object.create({});\n\n            Object.defineProperty(player, 'init', {\n                value: function (name) {\n                    this.name = name;\n                    this._id = ++currentPlayerId;\n                    this._playlists = [];\n                    return this;\n                }\n            });\n\n            Object.defineProperty(player, 'id', {\n                get: function () {\n                    return this._id;\n                }\n            });\n\n            Object.defineProperty(player, 'name', {\n                get: function () {\n                    return this._name;\n                },\n                set: function (val) {\n                    validator.validateString(val, 'Player name');\n                    this._name = val;\n                }\n            });\n\n            Object.defineProperty(player, 'addPlaylist', {\n                value: function (playlist) {\n                    validator.validateIfUndefined(playlist, 'Player add playlist parameter');\n                    if (playlist.id === undefined) {\n                        throw new Error('Player add playlist parameter must have id');\n                    }\n\n                    this._playlists.push(playlist);\n                    return this;\n                }\n            });\n\n            Object.defineProperty(player, 'getPlaylistById', {\n                value: function (id) {\n                    var i, len;\n                    validator.validateIfUndefined(id, 'Player get playlist parameter id');\n                    validator.validateIfNumber(id, 'Player get playlist paratemeter id');\n\n                    var foundIndex = indexOfElementWithIdInCollection(this._playlists, id);\n                    if (foundIndex < 0) {\n                        return null;\n                    }\n\n                    return this._playlists[foundIndex];\n                }\n            });\n\n            Object.defineProperty(player, 'removePlaylist', {\n                value: function (id) {\n                    id = validator.validateId(id);\n\n                    var foundIndex = indexOfElementWithIdInCollection(this._playlists, id);\n                    if (foundIndex < 0) {\n                        throw new Error('Playlist with id ' + id + ' was not found in player');\n                    }\n\n                    this._playlists.splice(foundIndex, 1);\n\n                    return this;\n                }\n            });\n\n            Object.defineProperty(player, 'listPlaylists', {\n                value: function (page, size) {\n                    validator.validatePageAndSize(page, size, this._playlists.length);\n\n                    return this._playlists\n                        .slice()\n                        .sort(getSortingFunction('name', 'id'))\n                        .splice(page * size, size);\n                }\n            });\n\n            Object.defineProperty(player, 'contains', {\n                value: function (playable, playlist) {\n                    validator.validateIfUndefined(playable);\n                    validator.validateIfUndefined(playlist);\n                    var playableId = validator.validateId(playable.id);\n                    var playlistId = validator.validateId(playlist.id);\n\n                    var playlist = this.getPlaylistById(playlistId);\n                    if (playlist == null) {\n                        return false;\n                    }\n\n                    var playable = playlist.getPlayableById(playableId);\n                    if (playable == null) {\n                        return false;\n                    }\n\n                    return true;\n                }\n            });\n\n            Object.defineProperty(player, 'search', {\n                value: function (pattern) {\n                    validator.validateString(pattern, 'Search pattern');\n\n                    return this._playlists\n                        .filter(function (playlist) {\n                            return playlist\n                                .listPlayables()\n                                .some(function (playable) {\n                                    return playable.length !== undefined\n                                        && playable\n                                            .title\n                                            .toLowerCase()\n                                            .indexOf(pattern.toLowerCase()) >= 0;\n                                });\n                        })\n                        .map(function (playlist) {\n                            return {\n                                id: playlist.id,\n                                name: playlist.name,\n                            }\n                        });\n                }\n            })\n\n            return player;\n        }());\n\n        playlist = (function () {\n            var currentPlaylistId = 0,\n                playlist = Object.create({});\n\n            function indexOfPlayableInPlaylist(id) {\n                var i, len;\n                for (i = 0, len = this._playables.length; i < len; i++) {\n                    if (this._playables[i].id == id) {\n                        return i;\n                    }\n                }\n\n                return -1;\n            }\n\n            Object.defineProperty(playlist, 'init', {\n                value: function (name) {\n                    this.name = name;\n                    this._id = ++currentPlaylistId;\n                    this._playables = [];\n                    return this;\n                }\n            });\n\n            Object.defineProperty(playlist, 'id', {\n                get: function () {\n                    return this._id;\n                }\n            });\n\n            Object.defineProperty(playlist, 'name', {\n                get: function () {\n                    return this._name;\n                },\n                set: function (val) {\n                    validator.validateString(val, 'Playlist name');\n                    this._name = val;\n                }\n            })\n\n            Object.defineProperty(playlist, 'addPlayable', {\n                value: function (playable) {\n                    validator.validateIfUndefined(playable, 'Playlist add playable parameter');\n                    validator.validateIfObject(playable, 'Playlist add playable parameter');\n                    validator.validateIfUndefined(playable.id, 'Playlist add playable parameter must have id');\n\n                    this._playables.push(playable);\n                    return this;\n                }\n            });\n\n            Object.defineProperty(playlist, 'getPlayableById', {\n                value: function (id) {\n                    var i, len;\n                    validator.validateIfUndefined(id, 'Playlist get playable parameter id');\n                    validator.validateIfNumber(id, 'Playlist get playable paratemeter id');\n\n                    var foundIndex = indexOfElementWithIdInCollection(this._playables, id);\n                    if (foundIndex < 0) {\n                        return null;\n                    }\n\n                    return this._playables[foundIndex];\n                }\n            });\n\n            Object.defineProperty(playlist, 'removePlayable', {\n                value: function (id) {\n                    id = validator.validateId(id);\n\n                    var foundIndex = indexOfElementWithIdInCollection(this._playables, id);\n                    if (foundIndex < 0) {\n                        throw new Error('Playable with id ' + id + ' was not found in playlist');\n                    }\n\n                    this._playables.splice(foundIndex, 1);\n\n                    return this;\n                }\n            });\n\n            Object.defineProperty(playlist, 'listPlayables', {\n                value: function (page, size) {\n                    page = page || 0;\n                    size = size || CONSTANTS.MAX_NUMBER;\n                    validator.validatePageAndSize(page, size, this._playables.length);\n\n                    return this\n                        ._playables\n                        .slice()\n                        .sort(getSortingFunction('title', 'id'))\n                        .splice(page * size, size);\n                }\n            });\n\n            return playlist;\n        }());\n\n        playable = (function () {\n            var currentPlayableId = 0,\n                playable = Object.create({});\n\n            Object.defineProperty(playable, 'init', {\n                value: function (title, author) {\n                    this.title = title;\n                    this.author = author;\n                    this._id = ++currentPlayableId;\n                    return this;\n                }\n            });\n\n            Object.defineProperty(playable, 'id', {\n                get: function () {\n                    return this._id;\n                }\n            });\n\n            Object.defineProperty(playable, 'title', {\n                get: function () {\n                    return this._title;\n                },\n                set: function (val) {\n                    validator.validateString(val, 'Playable Title');\n                    this._title = val;\n                }\n            });\n\n            Object.defineProperty(playable, 'author', {\n                get: function () {\n                    return this._author;\n                },\n                set: function (val) {\n                    validator.validateString(val, 'Playable Author');\n                    this._author = val;\n                }\n            });\n\n            Object.defineProperty(playable, 'play', {\n                value: function () {\n                    return this.id + '. ' + this.title + ' - ' + this.author;\n                }\n            });\n\n            return playable;\n        }());\n\n        audio = (function (parent) {\n            var audio = Object.create(parent);\n\n            Object.defineProperty(audio, 'init', {\n                value: function (title, author, length) {\n                    parent.init.call(this, title, author);\n                    this.length = length;\n                    return this;\n                }\n            });\n\n            Object.defineProperty(audio, 'length', {\n                get: function () {\n                    return this._length;\n                },\n                set: function (val) {\n                    validator.validatePositiveNumber(val, 'Audio Length');\n                    this._length = val;\n                }\n            });\n\n            Object.defineProperty(audio, 'play', {\n                value: function () {\n                    return parent.play.call(this) + ' - ' + this.length;\n                }\n            });\n\n            return audio;\n        }(playable));\n\n        video = (function (parent) {\n            var video = Object.create(parent);\n\n            Object.defineProperty(video, 'init', {\n                value: function (title, author, imdbRating) {\n                    parent.init.call(this, title, author);\n                    this.imdbRating = imdbRating;\n                    return this;\n                }\n            });\n\n            Object.defineProperty(video, 'imdbRating', {\n                get: function () {\n                    return this._imdbRating;\n                },\n                set: function (val) {\n                    validator.validateImdbRating(val);\n                    this._imdbRating = val;\n                }\n            });\n\n            Object.defineProperty(video, 'play', {\n                value: function () {\n                    return parent.play.call(this) + ' - ' + this.imdbRating;\n                }\n            });\n\n            return video;\n        }(playable));\n\n        return {\n            getPlayer: function (name) {\n                return Object.create(player).init(name);\n            },\n            getPlaylist: function (name) {\n                return Object.create(playlist).init(name);\n            },\n            getAudio: function (title, author, length) {\n                return Object.create(audio).init(title, author, length);\n            },\n            getVideo: function (title, author, imdbRating) {\n                return Object.create(video).init(title, author, imdbRating);\n            }\n        };\n    }());\n\n    return module;\n}\n\nvar module = solve();\n\nplayer = module.getPlayer('pesho');\nplaylist = module.getPlaylist('gosho');\nplayer.addPlaylist(playlist);\nvar audio = module.getAudio('ivan', 'ivanov', 4);\nplaylist.addPlayable(audio);\n\nconsole.log(player.search('van'));\n\n"]}